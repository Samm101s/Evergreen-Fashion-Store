<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Checkout - Evergreen Fashion and Accessories Store</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://js.paystack.co/v1/inline.js"></script>
</head>
<body>
  <header>
    <h1>Evergreen Fashion and Accessories Store</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="signup.html">Sign Up</a>
      <a href="login.html">Login</a>
      <a href="products.html">Products</a>
      <a href="checkout.html">Checkout</a>
    </nav>
  </header>

  <main>
    <section class="checkout">
      <h2>Checkout</h2>
      <form id="paymentForm">
        <div>
          <label for="email">Email Address</label><br>
          <input type="email" id="email-address" required />
        </div>
        <div>
          <label for="amount">Amount</label><br>
          <input type="number" id="amount" required />
        </div>
        <div>
          <label for="full-name">Full Name</label><br>
          <input type="text" id="full-name" required />
        </div>
        <button type="submit" class="btn">Pay Now</button>
      </form>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Evergreen Fashion and Accessories Store. All rights reserved.</p>
  </footer>

  <script>
    const paymentForm = document.getElementById('paymentForm');
    paymentForm.addEventListener('submit', payWithPaystack, false);

    function payWithPaystack(e) {
      e.preventDefault();

      let handler = PaystackPop.setup({
        key: 'pk_live_213598950554949f593c8c75e1f8b91b61415447', // Your public key
        email: document.getElementById('email-address').value,
        amount: document.getElementById('amount').value * 100,
        currency: 'NGN',
        ref: ''+Math.floor((Math.random() * 1000000000) + 1),
        callback: function(response){
          alert('Payment complete! Reference: ' + response.reference);
        },
        onClose: function(){
          alert('Transaction was not completed, window closed.');
        },
      });

      handler.openIframe();
    }
  </script>

</body>
        </html>
